<!DOCTYPE html>
<html>
  <body>
    <div id="root"></div>
  </body>
  <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">
    const root = document.getElementById("root");
    const App = () => {
      const [counter, setCounter] = React.useState(0);
      const onClick = () => {
        /*
          [state를 세팅하는 두 가지 방법]
          1. 직접 값을 설정해 주기
          2. 함수를 전달하기
        */

        // setCounter(counter + 1);
        setCounter((current) => current + 1); // setCounter에는 함수를 넣을 수도 있는데 그때 그 함수의 첫 번째 argument가 현재 값임

        /*
          위 두 코드는 모두 현재의 state를 가지고 새로운 값을 계산함
          그러나 두 번째 코드의 current가 확실히 현재 값이라는 걸 보장하고 있기 때문에 두 번째 코드가 더 안전함
          그러므로 현재 state를 바탕으로 다음 state를 계산하고 싶다면 함수를 사용해야 함
          그 함수가 언제나 현재 state의 값을 줄 거고 예상하지 못한 업데이트가 어디선가 일어났다고 해도 혼동 주는 걸 방지할 수 있기 때문임
        */
      };

      return (
        <div>
          <h3>Total clicks: {counter}</h3>
          <button onClick={onClick}>Click me!</button>
        </div>
      );
    };

    ReactDOM.render(<App />, root);
  </script>
</html>
